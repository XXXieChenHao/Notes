<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>循环与键</title>
  <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    // const numbers = [1, 2, 3, 4, 5];
    // const listItems = numbers.map(item => <li>{item}</li>)

    // ReactDOM.render(
    //   <ul>{listItems}</ul>,
    //   document.getElementById('root')
    // )

    // function NumberList(props) {
    //   const numbers = props.numbers
    //   const listItems = numbers.map(number => <li>{ number }</li>)
    //   return (
    //     <ul>{ listItems }</ul>
    //   )
    // }

    // const numbers = [1, 2, 3, 4, 5];
    // ReactDOM.render(
    //   <NumberList numbers={ numbers } />,
    //   document.getElementById('root')
    // )

    // ************** 添加key ********************
    // function NumberList(props) {
    //   const numbers = props.numbers
    //   const listItems = numbers.map(number => <li key={ number.toString() } >{ number }</li>)
    //   return (
    //     <ul>{ listItems }</ul>
    //   )
    // }

    // const numbers = [1, 2, 3, 4, 5];
    // ReactDOM.render(
    //   <NumberList numbers={ numbers } />,
    //   document.getElementById('root')
    // )

    // **************** key ********************
    // function TodoList() {
    //   const todoList = [1, 1, 1, 1, 1];
    //   const todoItems = todoList.map((todoItem, index) => {
    //     return (
    //       <li key={ index }>
    //         {todoItem}
    //       </li>
    //     )
    //   } )
    //   return (
    //     <ul>{ todoItems }</ul>
    //   )
    // }

    // ReactDOM.render(
    //   <TodoList />,
    //   document.getElementById('root')
    // )
    

    // ****************** correct key usage***************
    // function ListItem(props) {
    //   const value = props.value;
    //   return (
    //     // 不在数组上下文中不需要使用 key
    //     <li key={value.toString()}>{value}</li>
    //   )
    // }

    // function NumberList(props) {
    //   const numbers = props.numbers;
    //   const ListItems = numbers.map( number => {
    //     return (
    //       // 这里应该指定 key
    //       <ListItem  
    //         value={number} 
    //       >
    //         {number}
    //       </ListItem>
    //     )
    //   })
    //   return (
    //     <ul>{ ListItems }</ul>
    //   )
    // }

    // const numbers = [1, 2, 3, 4, 5]
    // ReactDOM.render(
    //   <NumberList numbers={numbers}/>,
    //   document.getElementById('root')
    // )

    // **************** JSX 中嵌套 map ***************
    function ListItem(props) {
      const value = props.value;
      return <li>{ value }</li>
    }

    function NumberList(props) {
      const numbers = props.numbers
      return (
        <ul>
          {numbers.map(number => {
            return <ListItem value={number} key={number.toString()} />
          })}
        </ul>
      )
    }

    const numbers = [1, 2, 3, 4, 5];
    ReactDOM.render(
      <NumberList numbers={numbers}/>,
      document.getElementById('root')
    )
  </script>

  <!-- <script>
    const numbers = [1, 2, 3, 4, 5];
    const doubleNumbers = numbers.map(item => item * 2)
    console.log(doubleNumbers)
  </script> -->
</body>
</html>